# üéÆ Unity iframe Integration - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Unity WebGL —Å HTML —á–µ—Ä–µ–∑ iframe —Å –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ —Å –∑–∞–≥–ª—É—à–∫–æ–π Unity
```bash
cd unity-iframe-project
./start_full.sh
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000
```

### 2. –ó–∞–ø—É—Å–∫ —Å —Ä–µ–∞–ª—å–Ω—ã–º Unity
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Unity Hub –∏ Unity Editor
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç `UnityProject` –≤ Unity
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `UNITY_SETUP.md`
4. –°–æ–±–µ—Ä–∏—Ç–µ WebGL –≤–µ—Ä—Å–∏—é
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `./start_full.sh`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
unity-iframe-project/
‚îú‚îÄ‚îÄ web-interface/           # HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ index.html          # –û—Å–Ω–æ–≤–Ω–æ–π HTML —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ unity-build/            # Unity WebGL –±–∏–ª–¥
‚îÇ   ‚îî‚îÄ‚îÄ index.html          # Unity –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ UnityProject/           # Unity –ø—Ä–æ–µ–∫—Ç
‚îÇ   ‚îú‚îÄ‚îÄ Assets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Scripts/        # C# —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Plugins/WebGL/  # JavaScript –ø–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Scenes/         # Unity —Å—Ü–µ–Ω—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Models/         # 3D –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ ProjectSettings/    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ build_unity.py          # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∏–ª–¥–∞
‚îú‚îÄ‚îÄ start_full.sh           # –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫
‚îî‚îÄ‚îÄ UNITY_SETUP.md          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ Unity
```

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º
- ‚úÖ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- ‚úÖ –°–º–µ–Ω–∞ 3D –º–æ–¥–µ–ª–µ–π (–î–∏–Ω–æ–∑–∞–≤—Ä, –î—Ä–∞–∫–æ–Ω, –ü–µ—Ä—Å–æ–Ω–∞–∂)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π (–°–±—Ä–æ—Å, –ê–≤—Ç–æ–ø–æ–≤–æ—Ä–æ—Ç)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ú–∞—Å—à—Ç–∞–±, –°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏)
- ‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- ‚úÖ –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ (–ü—Ä–æ–±–µ–ª, R, F)
- ‚úÖ FPS –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### Unity –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ iframe –∑–∞–≥—Ä—É–∑–∫–∞ Unity WebGL
- ‚úÖ –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è HTML ‚Üî Unity
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏–∑ HTML
- ‚úÖ –°–º–µ–Ω–∞ –º–æ–¥–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ 3D –º–æ–¥–µ–ª–µ–π

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
- `–ü—Ä–æ–±–µ–ª` - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–Ω–µ—Ü
- `R` - –°–±—Ä–æ—Å–∏—Ç—å –∫–∞–º–µ—Ä—É
- `F` - –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ê–Ω–∏–º–∞—Ü–∏–∏:** –¢–∞–Ω–µ—Ü, –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –ü–æ–∫–æ–π, –ü—Ä—ã–∂–æ–∫
- **–ú–æ–¥–µ–ª–∏:** –î–∏–Ω–æ–∑–∞–≤—Ä, –î—Ä–∞–∫–æ–Ω, –ü–µ—Ä—Å–æ–Ω–∞–∂
- **–ö–∞–º–µ—Ä–∞:** –°–±—Ä–æ—Å, –ê–≤—Ç–æ–ø–æ–≤–æ—Ä–æ—Ç
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:** –ú–∞—Å—à—Ç–∞–± (0.1x - 3.0x), –°–∫–æ—Ä–æ—Å—Ç—å (0.1x - 3.0x)

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Unity

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Unity
1. –°–∫–∞—á–∞–π—Ç–µ Unity Hub: https://unity.com/download
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Unity Editor 2022.3.15f1 –∏–ª–∏ –Ω–æ–≤–µ–µ
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç `UnityProject`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ü–µ–Ω—ã
1. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ü–µ–Ω—É `Assets/Scenes/MainScene.unity`
2. –î–æ–±–∞–≤—å—Ç–µ Empty GameObject "WebGLManager"
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `WebGLCommunication`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
1. –î–æ–±–∞–≤—å—Ç–µ `ModelCreator` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –ù–∞–∂–º–∏—Ç–µ Play - –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –º–æ–¥–µ–ª–∏ –≤ WebGLManager

### 4. WebGL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
1. `File ‚Üí Build Settings ‚Üí WebGL`
2. `Edit ‚Üí Project Settings ‚Üí Player ‚Üí WebGL`:
   - Compression Format: Gzip
   - Data Caching: Enabled
   - Memory Size: 512MB

## üöÄ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–∏–ª–¥
```bash
python3 build_unity.py
```

### –†—É—á–Ω–æ–π –±–∏–ª–¥
1. –í Unity: `Build ‚Üí Build WebGL`
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `../unity-build`
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

## üì± –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è HTML ‚Üî Unity

### HTML ‚Üí Unity
```javascript
// –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã –≤ Unity
unityFrame.contentWindow.postMessage({
    type: 'CallUnityMethod',
    method: 'PlayAnimation',
    parameter: 'dance'
}, '*');
```

### Unity ‚Üí HTML
```csharp
// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ HTML
SendMessageToHTML("UnityReady");
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ CSS –≤ `web-interface/index.html`:
```css
.sidebar {
    background: rgba(0, 0, 0, 0.8);  /* –¶–≤–µ—Ç –ø–∞–Ω–µ–ª–∏ */
    width: 300px;                    /* –®–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏ */
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
1. –í Unity —Å–æ–∑–¥–∞–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é
2. –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –≤ HTML
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ JavaScript
4. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ Unity

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
1. –í Unity —Å–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å
2. –î–æ–±–∞–≤—å—Ç–µ –≤ –º–∞—Å—Å–∏–≤ Models –≤ WebGLManager
3. –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –≤ HTML
4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å–º–µ–Ω—ã –º–æ–¥–µ–ª–∏

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
- –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console –Ω–∞ –æ—à–∏–±–∫–∏
- –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è Unity

### Unity Console
- –í Unity: `Window ‚Üí General ‚Üí Console`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

### –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –≤ DevTools
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Unity —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

## üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
```bash
# Python
python3 -m http.server 8000

# Node.js
npx http-server -p 8000

# PHP
php -S localhost:8000
```

### –í–µ–±-—Å–µ—Ä–≤–µ—Ä
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MIME —Ç–∏–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Unity WebGL Documentation](https://docs.unity3d.com/Manual/webgl.html)
- [Unity WebGL Build Settings](https://docs.unity3d.com/Manual/webgl-build.html)
- [PostMessage API](https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage)
- [Unity Animation System](https://docs.unity3d.com/Manual/AnimationSection.html)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –¥–ª—è –ª—é–±—ã—Ö —Ü–µ–ª–µ–π.

---

**üéÆ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 

1. **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `./start_full.sh`
2. **–° Unity:** –°–ª–µ–¥—É–π—Ç–µ `UNITY_SETUP.md`
3. **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:** –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!** üöÄ
